### ==========================================================
### DDD 결제 시스템 API 테스트 (v2)
### Base URL: http://localhost:8080/api/v2/payments
### ==========================================================

### ----------------------------------------------------------
### 결제 생성 - 한국 VIP
### 예상 결과:
###   - originalPrice: 10000
###   - discountedAmount: 9000 (VIP 10% 할인)
###   - finalAmount: 9900 (VAT 10%)
###   - status: COMPLETED
### ----------------------------------------------------------
POST http://localhost:8080/api/v2/payments
Content-Type: application/json

{
  "amount": 10000,
  "country": "KR",
  "isVip": true
}

### ----------------------------------------------------------
### 결제 생성 - 한국 일반 고객
### 예상 결과:
###   - originalPrice: 10000
###   - discountedAmount: 10000 (할인 없음)
###   - finalAmount: 11000 (VAT 10%)
### ----------------------------------------------------------
POST http://localhost:8080/api/v2/payments
Content-Type: application/json

{
  "amount": 10000,
  "country": "KR",
  "isVip": false
}

### ----------------------------------------------------------
### 결제 생성 - 미국 VIP
### 예상 결과:
###   - originalPrice: 10000
###   - discountedAmount: 9000 (VIP 10% 할인)
###   - finalAmount: 9720 (Sales Tax 8%)
### ----------------------------------------------------------
POST http://localhost:8080/api/v2/payments
Content-Type: application/json

{
  "amount": 10000,
  "country": "US",
  "isVip": true
}

### ----------------------------------------------------------
### 결제 생성 - 미국 일반 고객
### 예상 결과:
###   - originalPrice: 10000
###   - discountedAmount: 10000 (할인 없음)
###   - finalAmount: 10800 (Sales Tax 8%)
### ----------------------------------------------------------
POST http://localhost:8080/api/v2/payments
Content-Type: application/json

{
  "amount": 10000,
  "country": "US",
  "isVip": false
}

### ----------------------------------------------------------
### 모든 결제 조회
### ----------------------------------------------------------
GET http://localhost:8080/api/v2/payments

### ----------------------------------------------------------
### 단일 결제 조회
### (ID를 실제 생성된 값으로 변경하세요)
### ----------------------------------------------------------
GET http://localhost:8080/api/v2/payments/1

### ----------------------------------------------------------
### 결제 환불
### (ID를 실제 생성된 값으로 변경하세요)
###
### 주의: COMPLETED 상태의 결제만 환불 가능
### 결과: status가 REFUNDED로 변경됨
### ----------------------------------------------------------
POST http://localhost:8080/api/v2/payments/1/refund

### ----------------------------------------------------------
### 이미 환불된 결제 다시 환불 시도 (에러 발생)
### 예상 결과: 500 Internal Server Error
###   - "완료된 결제만 환불할 수 있습니다"
### ----------------------------------------------------------
POST http://localhost:8080/api/v2/payments/1/refund

### ==========================================================
### Anti-DDD 결제 시스템 API 테스트 (v1) - 비교용
### Base URL: http://localhost:8080/api/payments
### ==========================================================

### ----------------------------------------------------------
### Anti-DDD 결제 생성 - 한국 VIP
### ----------------------------------------------------------
POST http://localhost:8080/api/payments
Content-Type: application/json

{
  "amount": 10000,
  "country": "KR",
  "isVip": true
}

### ----------------------------------------------------------
### Anti-DDD 모든 결제 조회
### ----------------------------------------------------------
GET http://localhost:8080/api/payments

### ----------------------------------------------------------
### Anti-DDD 결제 환불
### ----------------------------------------------------------
POST http://localhost:8080/api/payments/1/refund

### ==========================================================
### H2 Console
### URL: http://localhost:8080/h2-console
### JDBC URL: jdbc:h2:mem:testdb
### Username: sa
### Password: (비워두기)
### ==========================================================

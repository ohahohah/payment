package com.example.payment.policy.tax;

/**
 * ====================================================================
 * KoreaTaxPolicy - 한국 세금 정책 구현체
 * ====================================================================
 *
 * [이 클래스의 역할]
 * - 한국의 부가가치세(VAT) 10%를 적용합니다
 * - TaxPolicy 인터페이스의 구체적인 구현체입니다
 *
 * [한국 부가가치세 (VAT)]
 * - 대한민국의 부가가치세율은 10%입니다
 * - 대부분의 상품과 서비스에 적용됩니다
 * - 일부 품목(농산물, 의료 등)은 면세 또는 영세율이 적용됩니다
 *
 * [상수(Constant) 사용]
 * - 세율 0.1을 상수로 정의하여 의미를 명확히 합니다
 * - 매직 넘버(의미를 알 수 없는 숫자) 사용을 피합니다
 * - 나중에 세율이 바뀌면 이 한 곳만 수정하면 됩니다
 */
public class KoreaTaxPolicy implements TaxPolicy {

    /**
     * 한국 부가가치세율 (10%)
     *
     * [상수 선언 키워드들]
     * - private: 이 클래스 내부에서만 접근 가능
     * - static: 인스턴스가 아닌 클래스에 속함 (모든 인스턴스가 공유)
     * - final: 한번 할당되면 변경 불가 (상수)
     *
     * [명명 규칙]
     * - 상수는 대문자와 언더스코어로 작성합니다 (예: TAX_RATE)
     * - 일반 변수는 카멜케이스로 작성합니다 (예: taxRate)
     */
    private static final double TAX_RATE = 0.1;

    /**
     * 세금 적용
     *
     * [계산 로직]
     * 세금 포함 가격 = 할인 가격 × (1 + 세율)
     *
     * 예시:
     * - 할인된 가격: 9,000원
     * - 세율: 10% (0.1)
     * - 계산: 9,000 × (1 + 0.1) = 9,000 × 1.1 = 9,900원
     *
     * @param discountedPrice 할인 적용 후 가격
     * @return 세금 포함 최종 가격
     */
    @Override
    public double apply(double discountedPrice) {
        return discountedPrice * (1 + TAX_RATE);
    }
}
